GPGPUを使った並列計算　　 
-----
- はじめに

ビッグデータという言葉が飛び交うようになった昨今、大量のデータを処理するためにコンピュータの計算能力が重要となる。

今回はGPUを使った並列計算の現状とその応用について紹介する。

- GPUとは

GPUはGraphical Processor Unitの略称で
コンピュータにおけるグラフィック性能を向上させたり、
機能を補うPCパーツの一つで、ゲーム用コンピュータなどに多く搭載されている。
GPUは元々画像処理を目的として設計されている。これは
数百から数千の演算コアを持ち、この演算コアを高速かつ並列に動かす
ことで行列計算などを行い精細かなめらかな描画を可能にしている。

- なぜGPUなのか？

GPUは大量の演算コアをフル活用することで
旧型のもので 数百 GFLOPS
最新のもので 約5.6 TeraFLOPSの演算能力を持つ
(※最新型のCPU(Intel Core i7 [Haswell] )であっても224GFLOPS位)

近年この計算能力を汎用演算に応用する取り組み（GPGPUと呼ぶ）が普及しNVIDIA社製品を中心に汎用演算に対応したGPUも多く販売されているため一般のユーザーでも扱いやすくなってきている。


- GPGPUについて

- GPUコンピューティングの仕組み

- 開発環境

現時点でGPGPUの開発環境は主に二つ

1. ATIStream・・・OpenCLベースの言語でOpenCLのAPIの知識が必要で、少しとっつきにくい

2. CUDA・・・C言語とC++言語をベースにしており、他の言語でのライブラリ開発も盛ん。
 
---

- 統合開発環境CUDA

NVIDIA社が提供しているGPGPUの開発環境でドライバー、ライブラリ、コンパイラ、サンプルを一つのパッケージとして提供している

CUDA Cと呼ばれるC/C++を少し拡張した言語でCPUとGPUを制御するプログラムを書く。

サンプルの中には金融工学で用いられるブラック・ショールズのテストプログラムなども含まれているなど応用範囲は多岐にわたっている。

---
- CUDA・GPUコンピューティングの難点

1.CUDA CでコーディングするときはGPUやCPU、メモリのデバイスに関する知識が必要。

2.条件分岐を多用するような難しいプログラムには向かない3.

3.それぞれの演算器が独立にかつブロック単位で動くのでデータの参照先や出力先が独立でないようなプログラムでは使用しづらい。

4.CPU-GPU間のデータ転送時間がかかるのでその分タイムロスが生じる。

---
- 上手くGPUを使うために

GPUにとってやさしいプログラムを組む

データを並列計算しやすく整形してGPUに転送し、

- 他の言語での応用

CUDA Cは主にC/C++言語でコーディング、コンパイルするが、バインディングを利用することで、データ解析に多く用いられるRubyやPython、MATLABでも使用することができる。

Ruby：Barracuda
Python：PyCUDA
MATLAB:MATLAB Plugin For CUDA
			etc…

- 統計解析言語Rでの利用

今や統計解析では欠かせないツールとなったR言語でもCUDA.GPUを利用した高速計算を行うためのライブラリが公開されている。
gputoolsライブラリ:使える関数が多い、ちょっとだけ遅い
rpudライブラリ：gputoolsよりも少し速い、関数が少ない、SVMのカーネルをいじることができる
使える関数

 - 実際に使ってみた①

---
  - 実際に使ってみた②

---

 - データ解析・統計分野での応用
大量のデータに同じ処理を一斉に実行するような場面でGPUを使う。
例)残差の計算、行列演算

大量の演算コアを使ってシミュレーションの回数を増やす。

---
- まとめ
CUDAなら簡単にGPU並列コンピューティングが体験できる。

計算量が大きくなるほどCPUとの処理能の差が大きくなる。

処理するデータ量が大きすぎて困ったらCUDA対応GPUを使ってみては？

ご静聴ありがとうございました
